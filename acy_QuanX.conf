; 2022-03-28：增加对各个模块的说明(某些内容只适用于 1.0.28 以上版本)
; ⚠️注意⚠️: 以下内容中，带“;” “#”的都是注释符号，去掉前面的符号，该行才有效



; general 模块内为一些通用的设置参数项
[general]
; Quantumult X 会对 server_check_url 指定的网址进行相应测试，以确认节点的可用性
; 同样可以在 server_local/remote 中，为节点、订阅单独指定server_check_url参数
server_check_url= http://www.qualcomm.cn/generate_204
; 节点延迟测试超时参数，需小于 2000 毫秒才生效
server_check_timeout=2000

; 👍👍👍资源解析器，可用于自定义各类远程资源的转换，如节点，规则 filter，复写 rewrite 等，url 地址可远程，可 本地/iCloud(Quantumult X/Scripts目录);
resource_parser_url= https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js

; 👍👍geo_location_checker用于节点页面的节点信息展示，可完整自定义展示内容与方式
; extreme-ip-lookup为Quantumult X 作者提供的示范 api
; geo_location_checker=http://extreme-ip-lookup.com/json/, https://raw.githubusercontent.com/crossutility/Quantumult-X/master/sample-location-with-script.js
; api 及获取、展示节点信息的 js
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js

; 👍👍👍运行模式模块，running_mode_trigger 设置，即根据网络自动切换 分流/直连/全局代理 等模式。
; running-mode-trigger 模式下，跟手动切换直连/全局代理 等效，rewrite/task 模块始终会生效，比 ssid 策略组设置简单，比 ssid-suspend 更灵活。
; running_mode_trigger=filter, filter, asus-5g:all_direct, asus: all_proxy
; 上述写法，前两个 filter 先后表示 在 4G 网络跟一般 Wi-Fi 下，走 filter(分流)模式，后面则表示在 asus-5g 下切换为全局直连，asus 切换为全局代理
; 如需使用，相应 SSID 换成你自己 Wi-Fi 名即可

; ssid_suspended_list，让 Quantumult X 在特定 Wi-Fi 网络下暂停工作(仅 task 模块会继续工作)，多个Wi-Fi用“,”连接
; ssid_suspended_list=Asus, Shawn-Wifi

; dns exclusion list中的域名将不使用fake-ip方式. 其它域名则全部采用 fake-ip 及远程解析的模式
; dns_exclusion_list=*.qq.com, qq.com

; UDP名单，留空则默认所有为端口。不在udp白名单列表中的端口，将被丢弃处理。
; udp_whitelist=53, 80-427, 444-65535

# 参数 fallback_udp_policy 仅支持 v1.0.19 以及之后的版本。
# 参数 fallback_udp_policy 的值仅支持末端策略（末端策略为经由规则模块和策略模块后所命中的策略，例如：direct、reject 以及节点；不支持内置策略 proxy 以及其它自定义策略）。
fallback_udp_policy=direct

; 下列表中的内容将不经过 QuantumultX的处理
; excluded_routes= 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
; icmp_auto_reply=true



[dns]
; 禁用系统 DNS 以及 ipv6
; no-syetem
; no-ipv6

; 指定的 dns服务器
server=114.114.114.114
server=202.141.176.93 
server=202.141.178.13
server=117.50.10.10
server=223.5.5.5
server=119.29.29.29:53
server=119.28.28.28

; 如指定 doh 服务，则👆️上面的一般 dns 解析均失效。支持 excluded_ssids 选项，在特定网络下禁用该 doh
; doh-server=xxx.com, excluded_ssids=SSID1, SSID2
; 指定 DoH  请求所使用的 User-Agent
; doh_user_agent=Agent/1.0

; 指定域名解析dns
; server=/example1.com/8.8.4.4
; server=/*.example2.com/223.5.5.5
; server=/example4.com/[2001:4860:4860::8888]:53
; address=/example5.com/192.168.16.18
; address=/example6.com/[2001:8d3:8d3:8d3:8d3:8d3:8d3:8d3]
server=/*.taobao.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
server=/*.alipay.com/223.5.5.5
server=/*.alicdn.com/223.5.5.5
server=/*.aliyun.com/223.5.5.5
server=/*.jd.com/119.28.28.28
server=/*.qq.com/119.28.28.28
server=/*.tencent.com/119.28.28.28
server=/*.weixin.com/119.28.28.28
server=/*.bilibili.com/119.29.29.29
server=/hdslb.com/119.29.29.29
server=/*.163.com/119.29.29.29
server=/*.126.com/119.29.29.29
server=/*.126.net/119.29.29.29
server=/*.127.net/119.29.29.29
server=/*.netease.com/119.29.29.29
server=/*.mi.com/119.29.29.29
server=/*.xiaomi.com/119.29.29.29
server=/*testflight.apple.com/23.76.66.98
server=8.8.8.8
address=/mtalk.google.com/108.177.125.188



[task_local]
; 0 0 8-22 * * ? https://raw.githubusercontent.com/Peng-YM/QuanX/master/Tasks/caiyun.js, tag=彩云天气, enabled=false
0 0 10 * * ? covid-19.js, tag=疫情日报, enabled=true
; 1 0 * * * https://raw.githubusercontent.com/chavyleung/scripts/master/bilibili/bilibili.js, tag=bilibili, img-url=https://raw.githubusercontent.com/Orz-3/task/master/bilibili.png, enabled=false
; 1 0 * * * https://raw.githubusercontent.com/chavyleung/scripts/master/wmmeituan/wmmeituan.js, tag=美团外卖, img-url=https://raw.githubusercontent.com/Orz-3/task/master/wmmeituan.png, enabled=false
; 1 0 * * * https://raw.githubusercontent.com/chavyleung/scripts/master/zxhc/zxhc.js, tag=智行火车, img-url=https://raw.githubusercontent.com/Orz-3/task/master/zxhc.png, enabled=false
; 1 0 * * * https://raw.githubusercontent.com/songyangzz/QuantumultX/master/elem/elemSign.js, tag=饿了么, img-url=https://raw.githubusercontent.com/Orz-3/task/master/elem.png, enabled=false
; 0 9 * * * https://raw.githubusercontent.com/Peng-YM/QuanX/master/Tasks/github.js, tag=GitHub, img-url=https://raw.githubusercontent.com/Orz-3/task/master/github.png, enabled=false
; 45 3 8 * * * https://raw.githubusercontent.com/evilbutcher/Quantumult_X/master/check_in/weibo/weibotalk.js, tag=微博超话, img-url=https://raw.githubusercontent.com/Orz-3/task/master/weibo.png, enabled=false
; 10 0 * * * https://raw.githubusercontent.com/chavyleung/scripts/master/10086/10086.fee.js, tag=10086查话费, img-url=https://raw.githubusercontent.com/Orz-3/task/master/10086fee.png, enabled=false
; 包含3⃣️种类型: cron 定时任务，UI交互脚本，网络切换脚本

; 1⃣️ 任务模块，可用于签到, 天气话费查询等
; js文件放于iCloud或者本机的Quantumult X/Scripts 路径下。TF版本可直接使用远程js链接
; 从 “分” 开始的5位cron 写法，具体 cron 表达式可自行 Google
; 比如上述语句 代表每天 12 点 2 分，自动执行一次;
; tag参数为 task 命名标识;
; img-url参数用于指定 task 的图标(108*108)
; 2 12 * * * sample.js, tag=本地示范(左滑编辑，右滑执行), enabled=false, img-url=https://raw.githubusercontent.com/crossutility/Quantumult-X/master/quantumult-x.png
; 13 12 * * * https://raw.githubusercontent.com/crossutility/Quantumult-X/master/sample-task.js, tag=远程示范(点击缓存/更新脚本), enabled=false, img-url=https://raw.githubusercontent.com/crossutility/Quantumult-X/master/quantumult-x.png
0 30 7 * * ? https://raw.githubusercontent.com/chavyleung/scripts/master/neteasemusic/quanx/neteasemusic.js, tag=网易云音乐自动签到, enabled=true
0 25 0 * * ? https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js, tag=京东多合一签到, img-url=https://raw.githubusercontent.com/NobyDa/mini/master/Color/jd.png, enabled=true

# 2⃣️ UI交互查询脚本示范，在首页长按 节点/策略组 唤出
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=流媒体-解锁查询, enabled=true

# 3⃣️ 网络切换/变化时 触发的脚本类型
;event-network sample-taks.js



; 以下为策略组[policy]部分
; static 策略组中，你需要手动选择想要的节点/策略组。
; available 策略组将按顺序选择你列表中第一个可用的节点。
; round-robin 策略组，将按列表的顺序轮流使用其中的节点。
; url-latency-benchmark 延迟策略组，选取延迟最优节点。
; dest-hash 策略组，随机负载均衡，但相同域名走固定节点。
; ssid 策略组，将根据你所设定的网络来自动切换节点/策略组
; img-url 参数用于指定策略组图标，可远程，也可本地/iCloud(Quantumult X/Images路径下) （108*108 大小）
; direct/proxy/reject 则只能用本地图标，名字分别为 direct.png, proxy.png,reject.png 放置于 Images 文件夹下即可生效 (108*108 大小)
[policy]
; 以下是quantumultX的3普通种策略组类型写法，也可以用正则参数 server-tag-regex 或者 resource-tag-regex 来筛选
; static=policy-name-1, Sample-A, Sample-B, Sample-C
; available=policy-name-2, Sample-A, Sample-B, Sample-C
; round-robin=policy-name-3, Sample-A, Sample-B, Sample-C
; url-latency-benchmark=policy-name-4, Sample-A, Sample-B, Sample-C
; dest-hash=policy-name-5, Sample-A, Sample-B, Sample-C
; server-tag-regex 以及 resource-tag-regex 参数用于正则筛选来建立策略组
; 具体可参见教程部分: https://shrtm.nu/DAFP
; 下面是ssid策略组示范
; ssid=policy-name-4, Sample-A, Sample-B, LINK_22E171:Sample-B, LINK_22E172:Sample-C
; "tag" 跟 "enabled" 为可选参数，分别表示 “标签”及“开启状态”, true 为开启，false 关闭.
; update-interval 为更新时间参数，单位 秒, 默认更新时间为 24*60*60=86400 秒，也就是24小时.
; opt-parser=true/false 用于控制是否对本订阅 开启资源解析器，不写或者 false 表示不启用解析器;
static=全球加速, 香港节点, 台湾节点, 日本节点, 狮城节点, 美国节点, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png 
static=苹果服务, direct, 香港节点, 台湾节点, 美国节点, 日本节点, 狮城节点, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Apple.png 
static=港台番剧, direct, 香港节点, 台湾节点, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Bili.png 
static=国际媒体, 香港节点, 台湾节点, 日本节点, 美国节点, 狮城节点, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/YouTube.png 
static=黑白名单, 全球加速, direct, 香港节点, 台湾节点, 日本节点, 狮城节点, 美国节点, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png 
static=美国节点, direct, proxy, acy_us_vps_v2ray, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png
url-latency-benchmark=香港节点, server-tag-regex=(?=.*(港|HK|(?i)Hong))^((?!(台|日|韩|新|美)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png 
url-latency-benchmark=台湾节点, server-tag-regex=(?=.*(台|TW|(?i)Taiwan))^((?!(港|日|韩|新|美)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png 
url-latency-benchmark=日本节点, server-tag-regex=(?=.*(日|JP|(?i)Japan))^((?!(港|台|韩|新|美)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png 
url-latency-benchmark=狮城节点, server-tag-regex=(?=.*(新|狮|獅|SG|(?i)Singapore))^((?!(港|台|日|韩|美)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png 



; 服务器远程订阅
[server_remote]
; 远程服务器订阅模块，可直接订阅SSR，SS链接，以及Quantumult X格式的vmess/trojan/https订阅
; 其它格式可用 opt-parser 参数开启解析器导入使用
; img-url参数用于指定图标，格式要求同样为 108*108 的 png 图片，可远程，可本地
; 支持本地/iCloud的节点文件/片段，位于Quantumult X/Profiles路径下
; servers.snippet, tag=本地服务器, img-url=https://raw.githubusercontent.com/crossutility/Quantumult-X/master/quantumult-x.png, enabled=false
https://dingyue.suying666.info/link/i7bKkdDFXjpNRfg2?list=quantumultx, tag=速鹰, update-interval=172800, opt-parser=false, enabled=true, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Quantumult_X.png



; 规则分流远程订阅
[filter_remote]
; 远程分流模块，可使用force-policy来强制使用策略偏好, 替换远程规则内所指定的策略组
; 同样的
; update-interval 为更新时间参数，单位 秒, 默认更新时间为 24*60*60=86400 秒，也就是24小时
; opt-parser=true/false 用于控制是否对本订阅 开启资源解析器，不写或者 false 表示不启用解析器
; 支持本地/iCloud规则文件，位于Quantumult X/Profiles路径下
; filter.txt, tag=本地分流, enabled=false
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, tag=规则修正, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, tag=广告拦截1, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list, tag=广告拦截2, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/AdRule.list, tag=广告拦截3, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true 
; https://raw.githubusercontent.com/app2smile/rules/master/rule/tieba-ad-qx.list, tag=贴吧广告, force-policy=reject, update-interval=172800, opt-parser=false, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, tag=运营劫持, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, tag=隐私保护, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true 
; https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/TikTok.list, tag=海外抖音, force-policy=全球加速, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Google/GoogleVoice.list, tag=Google Voice, force-policy=美国节点, update-interval=172800, opt-parser=true, enabled=true 
; https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/HK.list, tag=流媒体HK, force-policy=香港节点, update-interval=172800, opt-parser=true, enabled=true 
; https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/TW.list, tag=流媒体TW, force-policy=台湾节点, update-interval=172800, opt-parser=true, enabled=true 
; https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/JP.list, tag=流媒体JP, force-policy=日本节点, update-interval=172800, opt-parser=true, enabled=true 
; https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/US.list, tag=流媒体US, force-policy=美国节点, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list, tag=国际媒体, force-policy=国际媒体, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list, tag=港台番剧, force-policy=港台番剧, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, tag=全球加速, force-policy=全球加速, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list, tag=苹果服务, force-policy=苹果服务, update-interval=172800, opt-parser=true, enabled=true 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list, tag=国内网站, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true 



; rewrite 复写远程订阅
[rewrite_remote]
; 远程复写模块，内包含主机名hostname以及复写rewrite规则
; update-interval 为更新时间参数，单位 秒, 默认更新时间为 24*60*60=86400 秒，也就是24小时.
; opt-parser=true/false 用于控制是否对本订阅 开启资源解析器，不写或者 false 表示不启用解析器;
; 支持本地/iCloud的复写规则文件，位于Quantumult X/Profiles路径下
; rewrite.txt, tag=本地复写, opt-parser=false, enabled=false
https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.conf, tag=Spotify, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/toulanboy/scripts/master/bilibili_ad/bilibili_quanx.conf, tag=bilibili推荐广告, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/Js_Remote_Cookie.conf, tag=NobyDa Cookie获取, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/Advertising.conf, tag=神机复写(⛔️去广告), update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=神机复写(😄️通用), update-interval=86400, opt-parser=false, enabled=true
; https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Unlock/TikTokJP.conf, tag=神机复写(🎵️TikTok-JP), update-interval=86400, opt-parser=false, enabled=false
;Youtube premium 会员请勿开启此条
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/YouTubeAds.conf, tag=神机复写(🈲YouTube-AD), update-interval=86400, opt-parser=false, enabled=true



; 本地服务器部分
[server_local]
; 以下示范都是 ip(域名):端口，
; 比如 vmess-a.203.167.55.4:777 ，实际是 203.167.55.4:777
; 前面的 ss-a，ws-tls这些，只是为了让你快速找到自己节点的类型
; 实际使用时，请不要真的 傻乎乎的 写 vmess-a.203.167.55.4:777 这种。

; shadowsocks以及shadowsocksR类型
; shadowsocks=ss-a.example.com:80, method=chacha20, password=pwd, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, server_check_url=http://www.apple.com/generate_204, tag=Sample-A
; shadowsocks=ss-b.example.com:80, method=chacha20, password=pwd, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, tag=Sample-B
; shadowsocks=ss-c.example.com:443, method=chacha20, password=pwd, obfs=tls, obfs-host=bing.com, fast-open=false, udp-relay=false, tag=Sample-C
; shadowsocks=ssr-a.example.com:443, method=chacha20, password=pwd, ssr-protocol=auth_chain_b, ssr-protocol-param=def, obfs=tls1.2_ticket_fastauth, obfs-host=bing.com, tag=Sample-D
; shadowsocks=ws-a.example.com:80, method=aes-128-gcm, password=pwd, obfs=ws, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=Sample-E
; shadowsocks=ws-b.example.com:80, method=aes-128-gcm, password=pwd, obfs=ws, fast-open=false, udp-relay=false, tag=Sample-F
; shadowsocks=ws-tls-a.example.com:443, method=aes-128-gcm, password=pwd, obfs=wss, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=Sample-G

; vmess 类型，ws，wss(ws+tls),over-tls,tcp，支持 UDP
; vmess 类型节点默认开启 aead，关闭请用 aead=false

; ws 类型
; vmess=ws-c.example.com:80, method=chacha20-ietf-poly1305, password= 23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs-host=ws-c.example.com, obfs=ws, obfs-uri=/ws, fast-open=false, udp-relay=false, aead=false, tag=Sample-H

; wss(ws+tls) 类型
; vmess=ws-tls-b.example.com:443, method=chacha20-ietf-poly1305, password= 23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs-host=ws-tls-b.example.com, obfs=wss, obfs-uri=/ws, tls-verification=true,fast-open=false, udp-relay=false, tag=Sample-I

; http 类型
; vmess=example.com:80, method=chacha20-poly1305, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, server_check_url=http://www.apple.com/generate_204, tag=vmess-http

; tcp 类型
; vmess=vmess-a.example.com:80, method=aes-128-gcm, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, fast-open=false, udp-relay=false, tag=Sample-J
; vmess=vmess-b.example.com:80, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, fast-open=false, udp-relay=false, tag=Sample-K

; over-tls 类型
; vmess=vmess-over-tls.example.com:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs-host=vmess-over-tls.example.com, obfs=over-tls, tls-verification=true, fast-open=false, udp-relay=false, tag=Sample-L

; http(s) 类型
; http=http.example.com:80, username=name, password=pwd, fast-open=false, udp-relay=false, tag=http
; http=https.example.com:443, username=name, password=pwd, over-tls=true, tls-verification=true, tls-host=example.com, tls-verification=true, fast-open=false, udp-relay=false, tag=http-tls

; trojan 类型, 支持 over-tls 以及 websockets，支持 UDP
; trojan=example.com:443, password=pwd, over-tls=true, tls-verification=true, fast-open=false, udp-relay=true, tag=trojan-tls-01
; trojan=example1.com:443, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, fast-open=false, udp-relay=false, tag=trojan-tls-02
; trojan=192.168.1.1:443, password=pwd, obfs=wss, obfs-host=example.com, obfs-uri=/path, udp-relay=true, tag=trojan-wss-05
vmess=167.179.92.202:23333, method=aes-128-gcm, password=1a9f6a54-d58a-43ff-aa3f-f98ba045fc4c, fast-open=false, udp-relay=false, aead=false, tag=426_jp
vmess=64.112.43.78:10001, method=aes-128-gcm, password=4adec13c-8456-4a03-b3fd-8f51962ee395, fast-open=false, udp-relay=false, aead=true, tag=acy_us_vps_v2ray
shadowsocks=64.112.43.78:10002, method=aes-256-gcm, password=acyacy, fast-open=false, udp-relay=false, tag=acy_us_vps_ss


; 本地分流规则(对于完全相同的某条规则，本地的将优先生效)
[filter_local]
host, www.helpothers.cn, direct
; user-agent, ?abc*, proxy
; host, www.google.com, proxy
; host-keyword, adsite, reject
; host-suffix, googleapis.com, proxy

; 强制分流走蜂窝网络
; host-suffix, googleapis.com, proxy, force-cellular

; 让分流走蜂窝网络跟 Wi-Fi 中的优选结果
; host-suffix, googleapis.com, proxy, multi-interface

; 让分流走蜂窝网络跟 Wi-Fi 中的负载均衡，提供更大带宽出入接口
; host-suffix, googleapis.com, proxy, multi-interface-balance

; 指定分流走特定网络接口
; host-suffix, googleapis.com, proxy, via-interface=pdp_ip0
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct

; 已采用 ip 池数据，因此注释掉 geoip cn
; geoip, cn, direct
; 1.0.28 build628 后支持如下的geoip库写法（需 GEO-IP 库支持）
; geoip, netflix, proxy

; 不在上述规则中(远程以及本地)的剩余请求，将走final 指定的节点/策略，这里即是 → 🕹 终极清单, 请根据自己的需求来选择直连或节点、策略
final, 黑白名单


; 本地复写规则
[rewrite_local]
; 10086 cookie
; ^http:\/\/wx.10086.cn\/website\/taskCenter\/index\? url script-request-header https://raw.githubusercontent.com/chavyleung/scripts/master/10086/10086.cookie.js
; ^http:\/\/wx.10086.cn\/website\/taskCenter\/sign\? url script-request-header https://raw.githubusercontent.com/chavyleung/scripts/master/10086/10086.cookie.js

; 获取京东Cookie. 
; https://bean.m.jd.com/bean/signIndex.action 点击签到并且出现签到日历
; 如果通知获取Cookie成功, 则可以使用此签到脚本. 注: 请勿在京东APP内获取!!!
; ^https:\/\/(api\.m|me-api)\.jd\.com\/(client\.action\?functionId=signBean|user_new\/info\/GetJDUserInfoUnion\?) url script-request-header https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js

; 获取钢镚签到body. 
; ^https:\/\/ms\.jr\.jd\.com\/gw\/generic\/hy\/h5\/m\/appSign\? url script-request-body https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js

; 获取网易云音乐cookie
; ^https:\/\/music.163.com\/weapi\/user\/level url script-request-body https://raw.githubusercontent.com/chavyleung/scripts/master/neteasemusic/quanx/neteasemusic.js

; BoxJs
^https?:\/\/boxjs\.com url script-analyze-echo-response https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js

; 微博
^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua) url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js
^https?://m?api\.weibo\.c(n|om)/2/(statuses/(unread|extend|positives/get|(friends|video)(/|_)(mix)?timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|!/(photos/pic_recommend_status|live/media_homelist)|video/tiny_stream_video_list|photo/info|remind/unread_count) url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js

; bilibili去广告(iOS15)
; 开屏页广告,推荐页广告,动态(推荐话题和列表广告),视频播放页面(up主推荐广告,相关推荐广告)
^https:\/\/app\.bilibili\.com\/x\/(v2\/(splash\/(list|show)|feed\/index\?)|resource\/show\/tab\/v2) url script-response-body https://raw.githubusercontent.com/app2smile/rules/master/js/bilibili-json.js
^https:\/\/app\.bilibili\.com\/bilibili\.app\.(view\.v1\.View\/View|dynamic\.v2\.Dynamic\/DynAll)$ url script-response-body https://raw.githubusercontent.com/app2smile/rules/master/js/bilibili-proto.js

; 京东历史价格
^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig) url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/jd_price.js

; 去微博应用内广告 (By yichahucha)
^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua) url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js
^https?://m?api\.weibo\.c(n|om)/2/(statuses/(unread|extend|positives/get|(friends|video)(/|_)(mix)?timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|!/(photos/pic_recommend_status|live/media_homelist)|video/tiny_stream_video_list|photo/info) url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js

; 淘宝比价
^http://.+/amdc/mobileDispatch url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js
^https?://trade-acs\.m\.taobao\.com/gw/mtop\.taobao\.detail\.getdetail url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js

; 去微信公众号广告 (By Choler)
^https?:\/\/mp\.weixin\.qq\.com\/mp\/getappmsgad url script-response-body https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/Wechat.js

; 知乎去广告 (By onewayticket255)
https://api.zhihu.com/(ad|drama|fringe|commercial|market/popover|search/(top|preset|tab)|.*featured-comment-ad) url reject-200
; https://api.zhihu.com/people/ - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20people.js
; https://api.zhihu.com/moments/recommend - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20feed.js
; https://api.zhihu.com/topstory/recommend - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20recommend.js
; https://api.zhihu.com/v4/questions - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20answer.js

; 哔哩哔哩动画去广告 (By onewayticket255)
https://app.bilibili.com/x/v2/(splash|search/(defaultword|square)) url reject-200
https://api.bilibili.com/x/v2/dm/ad url reject-200
; https://app.bilibili.com/x/v2/space\?access_key url script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20space.js
; https://app.bilibili.com/x/resource/show/tab\?access_key - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20tab.js
; https://app.bilibili.com/x/v2/feed/index\?access_key - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20feed.js
; https://app.bilibili.com/x/v2/account/mine\?access_key - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20account.js
; https://app.bilibili.com/x/v2/view\?access_key - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20view%20relate.js
; https://api.bilibili.com/x/v2/reply/main\?access_key - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20reply.js
; https://api.live.bilibili.com/xlive/app-room/v1/index/getInfoByRoom\?access_key - script-response-body https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20live.js

; 哔哩哔哩番剧开启1080P+
; ^https:\/\/ap(p|i)\.bilibili\.com\/((pgc\/player\/api\/playurl)|(x\/v2\/account\/myinfo\?)|(x\/v2\/account/mine\?)) url script-response-body https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/bilifj.js

; VSCO滤镜VIP
;^https?:\/\/vsco\.co\/api\/subscriptions\/2.1\/user-subscriptions\/ url script-response-body https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/vsco.js

; 扫描全能王 pro
;^https:\/\/(api|api-cs)\.intsig\.net\/purchase\/cs\/query_property\? url script-response-body https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/CamScanner.js

; 解决知乎不跳转
; ^https?:\/\/www\.zhihu\.com\/ url request-header (\r\n)User-Agent:.+(\r\n) request-header $1User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36$2

# wps
; ^https://account.wps.*/api/users/ url script-response-body https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Wps.js

; Display netflix ratings（IMDb、douban）
; ^https?://ios(-.*)?\.prod\.ftl\.netflix\.com/iosui/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D url script-request-header https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating.js
; ^https?://ios(-.*)?\.prod\.ftl\.netflix\.com/iosui/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating.js
; 单集评分
; ^https?:\/\/ios(-.*)?\.prod\.ftl\.netflix\.com\/iosui\/warmer/.+type=show-ath url script-response-body https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating_season.js



[http_backend]
https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, host=boxjs.com, tag=BoxJS, path=^/, enabled=false


; 以下为证书&主机名部分
[mitm]
passphrase = D94B0F9A
p12 = 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
hostname = api.m.jd.com, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com, trade-acs.m.taobao.com, mp.weixin.qq.com, www.zhihu.com, api.zhihu.com, link.zhihu.com, api.bilibili.com, app.bilibili.com, vsco.co, ap*.intsig.net, account.wps.cn, *.tiktokv.com, *.byteoversea.com, *.tik-tokapi.com, weather-data.apple.com, www.youtube.com, app.bilibili.com, grpc.biliapi.net, ios-*.prod.ftl.netflix.com,ios.prod.ftl.netflix.com, *.bilibili.com, music.163.com, ms.jr.jd.com, me-api.jd.com, api.m.jd.com
; 请自行在 APP 的UI中生成证书 并安装&信任
; skip_validating_cert = false
; force_sni_domain_name = false